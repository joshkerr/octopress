
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dropbox is my publish button - Josh Kerr</title>
  <meta name="author" content="Josh Kerr">

  
  <meta name="description" content="I found this article from Joe Hewitt discussing his blog setup.  He puts all of his posts in a single file which is then parsed and rendered on hi...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://joshkerr.com/2011/10/dropbox-is-my-publish-button/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Josh Kerr" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href="http://fonts.googleapis.com/css?family=Muli" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Caudex" rel="stylesheet" type="text/css">
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script> 
<script src="/javascripts/twitter.js" type="text/javascript"> </script>
<script type="text/javascript" src="/javascripts/icanhaz.min.js"></script>
<script type="text/javascript">

	function params()
  {
      var vars = [], hash;
      var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
      for(var i = 0; i < hashes.length; i++)
      {
          hash = hashes[i].split('=');
          vars.push(hash[0]);
          vars[hash[0]] = hash[1];
      }
      return vars;
	}


	$(document).ready(function() {

		// Get the Twitter feed
	    getTwitterFeed("joshkerr", 3, false);
				
        if(params()['q'])
        {
        	var query = params()['q'];
      		$('div#search_results p#loading').show();
          
         	var result = $.getJSON('http://8mk3o.api.indextank.com/v1/indexes/joshkerr_index/search?q=' + encodeURIComponent(query) + '&fetch=title&snippet=text&callback=?', function(data) {
            	$('div#search_results div#inner').empty();
              
            	$.each(data.results, function(index, result) {
                    result['domain'] = window.location.hostname;
                    $('div#search_results div#inner').append('<div id="result">\
      			<p><a href="http://joshkerr.com' + result.docid + '">' + result.title + '</a><br/>\
      			' + result.snippet_text + '</p>\
    		</div');
                });

                if(data.results.length == 0)
                {
                    $('div#search_results div#inner').append('<p>Sorry, nothing found.</p>');
                }

                $('div#search_results p#loading').hide();
            });
        }
	});
</script>
</head>

<body  >
  <header role="banner"><hgroup>
  <h1><a href="/">Josh Kerr</a></h1>
  
    <h2>Startups + Gadgets + Geekery</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://joshkerr.com/search/" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:joshkerr.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/about/">About</a></li>
   <li><a href="/featured">Featured</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
    
	  <header>
      <h3 class="entry-title">Dropbox Is My Publish Button</h3>
      <p class="meta">





  



<time datetime="2011-10-04T00:00:00-05:00" pubdate  data-updated="true" >Oct 4<span>th</span>, 2011</time></p>
	</header>
	<div class="entry-content"><p>I found this article from Joe Hewitt discussing his blog setup.  He puts all of his posts in a single file which is then parsed and rendered on his server using custom written node.js server code.  He says keeping the single file of posts removes friction from creating new entries.  Not sure I believe that, but ok.  More:</p>


<p><a href="http://joehewitt.com/2011/10/03/dropbox-is-my-publish-button">Dropbox is my publish button</a>:</p>


<blockquote>
<p>I flipped the switch on my new blog last night. If you&#8217;ve been here before, you might not notice anything different. The design hasn&#8217;t changed, but behind the scenes everything is new.  I&#8217;ve written a CMS for the blog in <a href="http://nodejs.org">Node.js</a> and <a href="http://expressjs.com">Express</a>. It&#8217;s hosted on <a href="http://aws.amazon.com/ec2/">EC2</a>, <a href="http://aws.amazon.com/s3/">S3</a>, and <a href="http://aws.amazon.com/cloudfront/">Cloudfront</a>. All the content is written in <a href="http://daringfireball.net/projects/markdown/syntax">Markdown</a> and pushed to my server using <a href="http://dropbox.com">Dropbox</a>.  All the code is pulled from repositories on <a href="http://github.com">Github</a> and <a href="http://npmjs.org">NPM</a>.  I use <a href="http://www.alistapart.com/articles/responsive-web-design/">responsive design</a> to adapt nicely to all screen sizes, and use feature testing with <a href="https://github.com/phiggins42/has.js/">has.js</a> and <a href="https://github.com/joehewitt/hascan/">hascan</a> to adapt nicely to all browsers.</p>
<p>Like many nerd-minded bloggers, I prefer writing in Markdown in my programming text editor instead of writing in a browser.  Many such systems like <a href="https://github.com/mojombo/jekyll">Jekyll</a> are growing in popularity, but these usually require you to use Git to push your Markdown files to the server.  Call me lazy, but I don&#8217;t want to have to go down to the command-line.  I just want to save the file to publish it.  This is where Dropbox comes in.</p>
<p>All of my blog posts are now in Markdown files, and those files are synchronized to my Linux EC2 servers with Dropbox. My previous blog used Markdown also, but I had to FTP the files to my former Dreamhost server.  I used <a href="http://www.expandrive.com/">ExpanDrive</a>, which made the FTP process relatively painless, but FTP is still flaky, and ExpanDrive doesn&#8217;t deal well with flaky connections.  With Dropbox, the synchronization is effortless. A second or two after I save the Markdown file, the post is up on the blog, and I never have to think about it.</p>
<h2>Setting up Dropbox</h2>
<p>I run the Dropbox Linux client on my EC2 server using the default Linux AMI, but this should work on most Linux distros.</p>
<p>Start by installing the <a href="http://wiki.dropbox.com/TipsAndTricks/TextBasedLinuxInstall">Dropbox Linux command line client</a>.  At the end of the install script, it will ask you to link your Dropbox account by copying and pasting a URL into your browser. <strong>Do not do this yet.</strong> If you do, it will link your personal Dropbox account to the server, downloading the hundreds of megabytes of files you may have on Dropbox, and exposing potentially sensitive files to any intrepid hacker who breaks into your server.</p>
<p>You only want to synchronize the files needed by your CMS, so you need to create a new Dropbox account that is dedicated to this purpose. Of course, the Dropbox client only works with one account at a time, and your personal computer is going to be logged into your personal account.  Luckily, Dropbox folder sharing solves this problem nicely.  Once you have your new account, go to your personal account and share the folder containing your CMS files with the new account.  Then you can link the new account to your server.  Be sure you are logged into the new account in your browser, and then load that URL the installer gave you. Done.</p>
<h2>About that CMS</h2>
<p>Dropbox alone does not a blog make.  My new CMS, called <a href="http://github.com/joehewitt/nerve/">Nerve</a>, processes those magically synchronized files and spits out a website.  It&#8217;s Apache-licensed and hosted on Github, but I&#8217;m not recommending that anyone other than me use it at this time.  You can learn from it, though.</p>
<p>Nerve takes advantage of Node.js&#8217;s <a href="http://nodejs.org/docs/v0.3.1/api/fs.html#fs.watchFile">built-in file watching</a> abilities to monitor changes made by Dropbox and then regenerate pages on the fly.  It asks you for a path to your Markdown file, but this can include asterisk wildcards so you can use as many files as the pattern matches.  My entire blog is two Markdown files. One contains all posts from 2002 to 2010 and the other contains all posts from this year.  The files look something like this:</p>
<pre><code>This is a new post
==================

Blah blah blah.

This is another post [9/30/2011]
================================

Blah blah blah.
</code></pre>
<p>Nerve uses Markdown&#8217;s level-one header to demarcate the posts.  It then looks for a bracketed timestamp in the header to distinguish posts that are public from ones that are still drafts.  A password-protected drafts page allows me to preview drafts before publishing.  Once they are done, I add the timestamp, save the file, and it&#8217;s published.</p>
<p>A previous version of Nerve required creating a separate file for each post and giving it a name that contained the timestamp.  I tested this system out on <a href="http://uponahill.com">Laura&#8217;s blog</a> and found that the chore of creating new files was just enough friction to discourage her from starting new posts.  One day I was talking to my friend, <a href="http://scripting.com">Dave Winer</a>, and he told me that his entire blog is contained in a single OPML outline file.  This was a big aha-moment for me, and I rewrote Nerve so that all posts could be within the same file.  This was a big hit with Laura, and I&#8217;ve found her posting volume has gone up significantly ever since.</p>
<h2>Caveats</h2>
<p>The Dropbox Linux client works pretty well, but on a couple occasions I&#8217;ve found it has stopped syncing for no apparent reason.  It&#8217;s not the end of the world.  The web server keeps running, but new posts won&#8217;t get published until I SSH into my EC2 instance and restart the Dropbox daemon.</p>
</blockquote>


<p>(Via <a href="http://news.ycombinator.com/">Hacker News</a>)</p>

</div>
	  

  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Josh Kerr</span></span>

      





  



<time datetime="2011-10-04T00:00:00-05:00" pubdate  data-updated="true" >Oct 4<span>th</span>, 2011</time>
      

<span class="categories">
  
    <a href="/blog/category/tips/">tips</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://joshkerr.com/2011/10/dropbox-is-my-publish-button/" data-via="joshkerr" data-counturl="http://joshkerr.com/2011/10/dropbox-is-my-publish-button/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    
    <h3>Related Posts</h3>
    <ul id="related-posts">
    
  	<li><a href="/2011/10/overview-of-text-editors-mac/">Overview of Text Editors for Programming on the Mac</a></li>
	
  	<li><a href="/2011/09/octopress-jekyll-marsedit-together/">Using Octopress & Jekyll with MarsEdit</a></li>
	
  	<li><a href="/2011/09/amazon-route-53-to-host-your-dns/">Amazon Route 53 to Host Your DNS</a></li>
	
  	<li><a href="/2011/09/some-great-osx-hacks-via-the-command-line/">Some Great OSX Hacks via the Command Line</a></li>
	
  	<li><a href="/2011/09/site2pic-creates-website-screenshots/">Site2Pic Creates Website Screenshots</a></li>
	
  	<li><a href="/2011/09/create-mac-app-from-shell-script/">Create Mac App From Shell Script</a></li>
	
  	<li><a href="/2011/09/octopress-is-a-great-jekyll-blogging-system/">Octopress Is a Great Jekyll Blogging System</a></li>
	
  	<li><a href="/2011/09/great-command-prompt-shortcuts/">Great command prompt shortcuts</a></li>
	
  	<li><a href="/2011/09/easily-add-search-to-static-blog/">Easily add search to a static blog</a></li>
	
  	<li><a href="/2011/09/ruby-mine-as-a-jekyll-front-end/">Ruby Mine as a Jekyll front end</a></li>
	
  	<li><a href="/2011/09/using-ia-writer-with-jekyll/">Using iA Writer with Jekyll</a></li>
	
  	<li><a href="/2011/08/change-the-launchpad-folder-background-image/">Change the Launchpad Folder Background Image</a></li>
	
  	<li><a href="/2011/05/tech-tool-pro-now-allows-bootable-partition/">Tech Tool Pro now allows bootable partition</a></li>
	
  	<li><a href="/2011/02/a-bash-prompt-full-of-color-makes-a-happy-terminal/">a bash prompt full of color makes a happy terminal</a></li>
	
  	<li><a href="/2011/02/securely-erasing-files-on-your-mac/">securely erasing files on your mac</a></li>
	
  	<li><a href="/2011/01/Your-Exchange-server-doesnt-have-imap-no-problem/">Your Exchange server doesn't have imap?  No problem.</a></li>
	
  	<li><a href="/2010/09/how-to-pitch-your-startup-to-the-press/">How to pitch your startup to the press</a></li>
	
	</ul>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Josh Kerr</h1>

    <div id="josh-frame"><div id="josh-headshot"></div></div>

 	<p>I am the co-founder of <a href="http://www.zosh.com">Zosh</a> a company that was
	recently acquired by <a href="http://yousendit.com">YouSendIt</a>.  Currently I am Director of Product at <a href="http://www.macheen.com">Macheen</a> the leading enabler in "Internet included" connected devices.  I am also a mentor at <a href="http://www.capitalfactory.com">Capital Factory</a> an early stage startup accelerator in Austin, TX.  &nbsp;<a href="/about/">Read more</a>.</p>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/joshkerr" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @joshkerr</a>
  
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll...</ul>
  <p><a href="http://pinboard.in/u:joshkerr">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "joshkerr"; //id target for pinboard list
  var pinboard_count = 5; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Josh Kerr -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  <span class="credit"> | Additional <a href="/attributions/">Attributions</a></span>
</p>

</footer>
  

<script type="text/javascript">
    (function () {
      var disqus_shortname = 'joshkerr';
      
        
        var disqus_script = 'count.js'
      

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-9009358-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


</body>
</html>
